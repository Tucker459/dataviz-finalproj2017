<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <title>Your deck.js Presentation</title>

  <!-- Required stylesheet -->
  <link rel="stylesheet" media="screen" href="core/deck.core.css">

  <!-- Extension CSS files go here. Remove or add as needed. -->
  <link rel="stylesheet" media="screen" href="extensions/goto/deck.goto.css">
  <link rel="stylesheet" media="screen" href="extensions/menu/deck.menu.css">
  <link rel="stylesheet" media="screen" href="extensions/navigation/deck.navigation.css">
  <link rel="stylesheet" media="screen" href="extensions/status/deck.status.css">
  <link rel="stylesheet" media="screen" href="extensions/scale/deck.scale.css">

  <!-- CSS File for Bar & Pie Charts -->
  <link rel="stylesheet" type="text/css" href="style.css">

  <!-- Style theme. More available in /themes/style/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/style/neon.css">

  <!-- Transition theme. More available in /themes/transition/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/transition/horizontal-slide.css">

  <!-- Basic black and white print styles -->
  <link rel="stylesheet" media="print" href="core/print.css">

  <!-- Required Modernizr file -->
  <script src="modernizr.custom.js"></script>
</head>
<body>
  <div class="deck-container">

    <!-- Begin slides. Just make elements with a class of slide. -->

    <section class="slide">
      <h2>United States Terrorist Attacks from 1970 - 2016</h2>
        <p>
          What kinds of attacks have the United States experienced from the last 45 years? Which state is the most prone to be targeted? New York, Montana, Miami! Who knows?
				  As the United States has grown to become the one of the most dominant superpowers in the world and as the leadership has changed numerous times we have experienced terrible times in America from the attacks on our nation.
				  With the help of <a href="http://www.start.umd.edu/">National Consortium for the Study of Terrorism and Responses to Terrorism (START)</a> and <a href="https://www.kaggle.com/START-UMD/gtd">Kaggle</a> where I recieved the data from.
					I was able to help visualize some of data to these questions.
        </p>
    </section>

    <section class="slide">
      <h2>Hybrid Structure</h2>
        <p>
          This presentation utilizes the interactive slideshow hybrid structure which allows the user to follow a story that I have created and dive into details at their leisure.
        </p>
      <h2>Scenes</h2>
        <p>
          This is based off of the <a href="http://imakewebthings.com/deck.js/">deck.js</a> package which allows you create html presentation slideshows. With the numerous available add-ons and features presented by this package I was able to customize my slideshow accordly to capture the user's attention.
        </p>
      <h2>Annotations</h2>
        <p>
          As you mouse over the bars of the bar chart the color of the bar changes to indicate that you are currently over that bar.
        </p>
      <h2>Parameters</h2>
        <p>
          I utilized triggers with my pie chart and bar chart visulaization where you are able to select the state and this displays the count of attacks and percentage of groups.
        </p>
      <h2>Triggers</h2>
        <p>
          I utilized linear ordering by allowing the use of the spacebar, arrow keys, or the arrow buttons presented on the screen to move through the visualization.
        </p>
    </section>

    <section class="slide">
      <h2>US Terrorism Attacks Types</h2>
      <script src="//d3js.org/d3.v4.js"></script>
          <svg width="960" height="500"></svg>
          <script>

          // Setting the margins
          var svg = d3.select("svg"),
          margin = {top: 20, right: 20, bottom: 30, left: 40},
          width = +svg.attr("width") - margin.left - margin.right,
          height = +svg.attr("height") - margin.top - margin.bottom;

          // Creating Linear and Band Scales
          var x = d3.scaleBand().rangeRound([0, width]).padding(0.1),
          y = d3.scaleLinear().rangeRound([height, 0]);

          var vx = svg.append("g")
          .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

          // Grabbing Data
          d3.csv("globalterrorismdb_US0617dist.csv", function(d) {
          d.attacktype1 = +d.attacktype1;
          return d;
          }, function(error, data) {
          if (error) throw error;

          x.domain(data.map(function(d) { return d.attacktype1_txt; }));
          y.domain([0, d3.max(data, function(d) { return d.attacktype1; })]);

          // Creation of the X Axis
          vx.append("g")
          .attr("class", "x axis")
          .attr("transform", "translate(0," + height + ")", "rotate(-90)")
          .call(d3.axisBottom(x));



          // Creation of the Y Axis
          vx.append("g")
          .attr("class", "y axis")
          .call(d3.axisLeft(y).ticks(10, ""))
          .append("text")
          .attr("transform", "rotate(-90)")
          .attr("y", 6)
          .attr("dy", "0.71em")
          .attr("text-anchor", "left")
          .text("Count");

          // Creation of the width and height of the bars
          vx.selectAll(".bar")
          .data(data)
          .enter().append("rect")
          .attr("class", "bar")
          .attr("x", function(d) { return x(d.attacktype1_txt); })
          .attr("y", function(d) { return y(d.attacktype1); })
          .attr("width", x.bandwidth())
          .attr("height", function(d) { return height - y(d.attacktype1); })
          });
          </script>

      <p>
        This is a bar chart describing the amount of different attack types that happen in the United States. I was able to accomplish this by utilizing Mike Bostock's <a href="https://bl.ocks.org/mbostock/3885304">Bar Chart</a> example to follow.
      </p>
    </section>

    <section class="slide">
    		<script src="//d3js.org/d3.v4.js"></script>
    		<script>
    		var width = 500,
    			height = 500;

    var svg = d3.select("body")
        .append("svg")
    		.attr("class", "bubble")
    		.attr("height", height)
        .attr("width", width)
    		.append("g")
    		.attr("transform", "translate(0,0)");

    		var radiusScale = d3.scaleSqrt().domain([3, 1933]).range([10, 80]);

    		var simulation = d3.forceSimulation()
    	  		.force("x", d3.forceX(width / 2).strength(0.05))
    	 			.force("y", d3.forceY(height / 2).strength(0.05))
    	 			.force("Collide", d3.forceCollide(function(d){
    					return radiusScale(d.Attacktype1)
    				}));


    d3.queue()
    	.defer(d3.csv,"US_Totals_TA.csv")
    	.await(ready);

       function ready (error, data){
        var bubbles = svg.append("g")
            .attr("transform", "translate(0,0)")
            .selectAll(".bubble")
            .data(data)
            .enter().append("circle")
            .attr("r", function(d){
    					return radiusScale(d.Attacktype1)
    				})
            .style("fill", "lightblue");

    		var labels = svg.selectAll(".bubbles-label")
    		  .data(data)
    		  .enter().append("text")
    		  .attr("class", "bubbles-label")
    		  .attr("text-anchor", "middle")
    		  .attr("fill", "black")
    		  .attr("font-size", "8px")
    		  .text(function(d) {
    		    return d.Provstate;
      })

    		simulation.nodes(data)
    			.on('tick', ticked);

    		function ticked(){
    			bubbles
    				.attr("cx", function(d) {
    					return d.x
    				})
    				.attr("cy", function(d){
    					return d.y
    				});
    		labels
    			  .attr("x", function(d) {
    			    return d.x;
    			  })
    			  .attr("y", function(d) {
    			    return d.y;
    	  })

    		}


    };

    	</script>
  </section>
    <!-- End slides. -->

    <!-- Begin extension snippets. Add or remove as needed. -->

    <!-- deck.navigation snippet -->
    <div aria-role="navigation">
      <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
      <a href="#" class="deck-next-link" title="Next">&#8594;</a>
    </div>

    <!-- deck.status snippet -->
    <p class="deck-status" aria-role="status">
      <span class="deck-status-current"></span>
      /
      <span class="deck-status-total"></span>
    </p>

    <!-- deck.goto snippet -->
    <form action="." method="get" class="goto-form">
      <label for="goto-slide">Go to slide:</label>
      <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
      <datalist id="goto-datalist"></datalist>
      <input type="submit" value="Go">
    </form>

    <!-- End extension snippets. -->
  </div>

<!-- Required JS files. -->
<script src="jquery.min.js"></script>
<script src="core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<script src="extensions/navigation/deck.navigation.js"></script>
<script src="extensions/scale/deck.scale.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
  $(function() {
    $.deck('.slide');
  });
</script>
</body>
</html>
